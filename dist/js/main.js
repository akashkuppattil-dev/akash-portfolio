const state={projects:[],publications:[],blogPosts:[]},DOM={projectsContainer:document.getElementById("projects-container"),publicationsList:document.querySelector(".publications-list"),blogGrid:document.querySelector(".blog-grid")};async function fetchData(){try{const[e,t,a]=await Promise.all([fetch("js/data/projects.json"),fetch("js/data/publications.json"),fetch("js/data/blog-posts.json")]);if(!e.ok||!t.ok||!a.ok)throw new Error("Failed to fetch data");const s=await e.json(),n=await t.json(),o=await a.json();state.projects=s.projects||[],state.publications=n.publications||[],state.blogPosts=o.posts||[],initProjectFiltering(),renderProjects(),renderPublications(),renderBlogPosts()}catch(e){console.error("Error loading data:",e),DOM.projectsContainer&&(DOM.projectsContainer.innerHTML='<p class="error-message">Failed to load projects. Please try again later.</p>'),DOM.publicationsList&&(DOM.publicationsList.innerHTML='<p class="error-message">Failed to load publications. Please try again later.</p>'),DOM.blogGrid&&(DOM.blogGrid.innerHTML='<p class="error-message">Failed to load blog posts. Please try again later.</p>')}}function renderProjects(){if(!DOM.projectsContainer||0===state.projects.length)return;const e=state.projects.map(e=>`\n        <div class="project-card" data-category="${e.category}" data-year="${e.year}">\n            <div class="project-image">\n                <img src="images/${e.image||"project-placeholder.jpg"}" alt="${e.title}">\n                <div class="project-overlay">\n                    <div class="project-tags">\n                        ${e.tags.map(e=>`<span class="tag">${e}</span>`).join("")}\n                    </div>\n                </div>\n            </div>\n            <div class="project-info">\n                <h3>${e.title}</h3>\n                <p>${e.description}</p>\n                <div class="project-meta">\n                    <span class="project-category">${e.category}</span>\n                    <span class="project-year">${e.year}</span>\n                </div>\n                <div class="project-technologies">\n                    ${e.technologies.map(e=>`<span class="tech-tag">${e}</span>`).join("")}\n                </div>\n                ${e.link?`<a href="${e.link}" class="btn btn-sm btn-outline">View Project</a>`:""}\n            </div>\n        </div>\n    `).join("");DOM.projectsContainer.innerHTML=e,initProjectHoverEffects()}function renderPublications(){if(!DOM.publicationsList||0===state.publications.length)return;const e=[...state.publications].sort((e,t)=>t.year-e.year).map(e=>`\n        <div class="publication-item" data-year="${e.year}" data-category="${e.category||"publication"}">\n            <h3 class="publication-title">${e.title}</h3>\n            <p class="publication-authors">${e.authors}</p>\n            <p class="publication-journal">\n                ${e.journal}${e.volume?`, ${e.volume}`:""}${e.issue?`(${e.issue})`:""}${e.pages?`: ${e.pages}`:""} (${e.year})\n            </p>\n            <div class="publication-links">\n                ${e.doi?`<a href="https://doi.org/${e.doi}" target="_blank" class="publication-link"><i class="fas fa-external-link-alt"></i> DOI</a>`:""}\n                ${e.pdf?`<a href="${e.pdf}" target="_blank" class="publication-link"><i class="fas fa-file-pdf"></i> PDF</a>`:""}\n                ${e.is_preprint&&e.preprint_link?`<a href="${e.preprint_link}" target="_blank" class="publication-link"><i class="fas fa-file-alt"></i> Preprint</a>`:""}\n            </div>\n        </div>\n    `).join("");DOM.publicationsList.innerHTML=e}function renderBlogPosts(){if(!DOM.blogGrid||0===state.blogPosts.length)return;const e=[...state.blogPosts].sort((e,t)=>new Date(t.date)-new Date(e.date)).filter(e=>e.featured).slice(0,3);if(0===e.length)return;const t=e.map(e=>`\n        <article class="blog-card">\n            <div class="blog-card-image">\n                <img src="images/${e.image||"blog-placeholder.jpg"}" alt="${e.title}">\n                <div class="blog-card-category">${e.category}</div>\n            </div>\n            <div class="blog-card-content">\n                <div class="blog-card-meta">\n                    <span class="blog-card-date">${new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}</span>\n                    <span class="blog-card-readtime">${e.read_time}</span>\n                </div>\n                <h3 class="blog-card-title">${e.title}</h3>\n                <p class="blog-card-excerpt">${e.excerpt}</p>\n                <div class="blog-card-footer">\n                    <div class="blog-card-tags">\n                        ${e.tags.map(e=>`<span class="tag">${e}</span>`).join("")}\n                    </div>\n                    <a href="blog/${e.slug||"#"}" class="read-more">Read More <i class="fas fa-arrow-right"></i></a>\n                </div>\n            </div>\n        </article>\n    `).join("");DOM.blogGrid.innerHTML=t}function initProjectHoverEffects(){document.querySelectorAll(".project-card").forEach(e=>{e.addEventListener("mouseenter",()=>{e.classList.add("hovered")}),e.addEventListener("mouseleave",()=>{e.classList.remove("hovered")})})}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-links");function a(){e.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("no-scroll")}document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",()=>{t.classList.contains("active")&&a()})}),e&&e.addEventListener("click",a),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const a=document.querySelector(t);if(a){const e=80,t=a.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"})}})});const s=document.querySelector(".navbar");let n=0;function o(){const e=document.querySelectorAll(".skill-bar");if(0===e.length)return;const t=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&(e.forEach(e=>{const t=e.getAttribute("data-level");e.style.width=t+"%",e.style.opacity="1"}),t.unobserve(a.target))})},{threshold:.2});e.forEach(e=>t.observe(e))}s&&window.addEventListener("scroll",function(){const e=window.pageYOffset||document.documentElement.scrollTop;e>100?s.classList.add("scrolled"):s.classList.remove("scrolled"),s.style.transform=e>n&&e>200?"translateY(-100%)":"translateY(0)",n=e<=0?0:e}),function(){!function(){const e=document.querySelector(".hero");if(!e)return;const t=["https://placehold.co/1920x1080/2E8B57/FFFFFF/png?text=Adhith+M.K.\nWildlife+Conservation","https://placehold.co/1920x1080/008080/FFFFFF/png?text=Ecological+Research\nData+Analysis","https://placehold.co/1920x1080/4B5320/FFFFFF/png?text=Sustainable+Development\nConservation+Science"];let a=0;e.style.backgroundImage=`linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.85) 100%), \n                                           url('../images/${t[0]}')`,setInterval(()=>{a=(a+1)%t.length,e.style.backgroundImage=`linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.85) 100%), \n                                               url('../images/${t[a]}')`},5e3)}(),function(){const e=document.querySelectorAll(".filter-btn"),t=document.querySelectorAll(".project-card"),a=document.querySelectorAll(".category-filter"),s=document.querySelectorAll(".year-filter");0!==e.length&&0!==t.length&&(e.forEach(a=>{a.addEventListener("click",function(){e.forEach(e=>e.classList.remove("active")),this.classList.add("active");const a=this.getAttribute("data-filter");t.forEach(e=>{"all"===a||e.getAttribute("data-category")===a?(e.style.display="block",setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},10)):(e.style.opacity="0",e.style.transform="translateY(20px)",setTimeout(()=>{e.style.display="none"},300))})})}),a.forEach(e=>{e.addEventListener("change",function(){const e=this.value;t.forEach(t=>{"all"===e||t.getAttribute("data-category")===e?(t.style.display="block",setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},10)):(t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>{t.style.display="none"},300))})})}),s.forEach(e=>{e.addEventListener("change",function(){const e=this.value;t.forEach(t=>{"all"===e||t.getAttribute("data-year")===e?(t.style.display="block",setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},10)):(t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>{t.style.display="none"},300))})})}))}(),o(),function(){const e=document.querySelector(".contact-form");e&&e.addEventListener("submit",function(t){t.preventDefault();const a=new FormData(this),s={};a.forEach((e,t)=>{s[t]=e});let n=!0;if(["name","email","message"].forEach(e=>{if(!s[e]||""===s[e].trim()){n=!1;const t=this.querySelector(`[name="${e}"]`);t.classList.add("error"),setTimeout(()=>{t.classList.remove("error")},3e3)}}),s.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){n=!1;const e=this.querySelector('[name="email"]');e.classList.add("error"),setTimeout(()=>{e.classList.remove("error")},3e3)}if(n){console.log("Form submitted:",s);const t=document.createElement("div");t.className="success-message",t.textContent="Thank you for your message! I will get back to you soon.",e.appendChild(t),this.reset(),setTimeout(()=>{t.remove()},5e3)}})}();const e=document.querySelectorAll(".fade-in"),t=()=>{e.forEach(e=>{e.getBoundingClientRect().top<window.innerHeight-100&&e.classList.add("visible")})};t(),window.addEventListener("scroll",t)}()}),document.body.classList.add("loading"),window.addEventListener("load",function(){document.body.classList.remove("loading")});