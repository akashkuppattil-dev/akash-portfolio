document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contact-form");if(!e)return;const t=document.getElementById("form-messages"),s=document.getElementById("submit-btn"),n=document.querySelector(".btn-text"),o=document.querySelector(".btn-loading");function a(){let e=!0;const t=document.getElementById("name"),s=document.getElementById("email"),n=document.getElementById("subject"),o=document.getElementById("message");document.querySelectorAll(".error-message").forEach(e=>e.textContent=""),document.querySelectorAll("input, select, textarea").forEach(e=>{e.classList.remove("error")}),t.value.trim()||(r("name","Please enter your name"),e=!1);return s.value.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value)||(r("email","Please enter a valid email address"),e=!1):(r("email","Please enter your email"),e=!1),n.value||(r("subject","Please select a subject"),e=!1),o.value.trim()?o.value.trim().length<10&&(r("message","Message should be at least 10 characters long"),e=!1):(r("message","Please enter your message"),e=!1),e}function r(e,t){const s=document.getElementById(e),n=document.getElementById(`${e}-error`);s&&s.classList.add("error"),n&&(n.textContent=t,n.style.display="block")}function l(e,s){t.textContent=s,t.className=`form-messages ${e}`,t.style.display="block",t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{t.style.opacity="0",setTimeout(()=>{t.style.display="none",t.style.opacity="1"},500)},5e3)}function c(t){t?(s.disabled=!0,n.style.display="none",o.style.display="flex",e.classList.add("form-loading")):(s.disabled=!1,n.style.display="inline-block",o.style.display="none",e.classList.remove("form-loading"))}e.addEventListener("submit",async function(t){if(t.preventDefault(),a()){c(!0);try{const t=new FormData(e),s=await fetch(e.action,{method:"POST",body:t,headers:{Accept:"application/json"}});if(!s.ok){const e=await s.json();throw new Error(e.error||"Form submission failed")}l("success","Your message has been sent successfully! I'll get back to you soon."),e.reset()}catch(e){console.error("Error submitting form:",e),l("error","There was an error sending your message. Please try again later.")}finally{c(!1)}}});const i=e.querySelectorAll("input, select, textarea");i.forEach(e=>{e.addEventListener("blur",function(){""!==this.value.trim()&&a()})}),i.forEach(e=>{e.addEventListener("focus",function(){this.classList.remove("error");const e=document.getElementById(`${this.id}-error`);e&&(e.textContent="",e.style.display="none")})})});